(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{60:function(e,n,t){"use strict";var o=t(5);Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=o(t(14)),a=o(t(15)),i=o(t(68)),s=o(t(64)),u=o(t(65)),l=o(t(66)),c=o(t(67)),d=o(t(63)),f=t(69);t(77),t(73),t(71),t(78);var h=o(t(70)),p=t(29);function m(){var e=(0,i.default)(["\n        section {\n            border-radius: 3px;\n            min-height: 200px;\n            height: inherit;\n            width: 90%;\n            min-width: 300px;\n            max-width: 600px;\n            background-color: #FFFFFF;\n            margin-bottom: 20px;\n            display: flex;\n            flex-direction: column;\n            align-items: center;\n            justify-content: space-between;\n            padding: 25px;\n            padding-top: 20px;\n            box-sizing: border-box;\n        }\n\n        h1,h2,h3,h4,h5,h6,p {\n            margin-top: 0;\n            margin-bottom: 0.6em;\n            text-align: center;\n        }\n\n        div {\n            width: 100%;\n            margin-right: auto;\n            display: flex;\n            align-items: center;\n            justify-content: space-between;\n        }\n\n        input {\n            height: 1.5em;\n            width: calc(100% - 4px);\n            border-radius: 3px;\n            margin-bottom: 1em;\n            font-family: inherit;\n            border-style: solid;\n            border-width: 1px;\n            font-size: 1em;\n            background-color: #F2F2F2;\n        }\n\n        button {\n            margin-bottom: 1em;\n            width: 100px;\n            height: 35px;\n            text-transform: uppercase;\n            background-color: #FBC303;\n            font-weight: 900;\n            font-family: inherit;\n            border: none;\n            border-radius: 3px;\n            vertical-align: baseline;\n            cursor: pointer;\n        }\n\n        paper-progress {\n          width: 100vw;\n          --paper-progress-active-color: #FBC303;\n        }\n    "]);return m=function(){return e},e}function g(){var e=(0,i.default)(['\n        <default-background>\n            <section>\n                <h3>Configurações do Bot do Telegram</h3>\n                <h5>ID do Chat</h3>\n                <input type="text" .value=',' @input="','"/>\n                <div>\n                  <button\n                    @click="','"\n                    ?disabled=','\n                  >Cancelar</button>\n                  <button\n                    @click="','"\n                    ?disabled=',"\n                  >Salvar</button>\n                </div>\n            </section>\n        </default-background>\n    "]);return g=function(){return e},e}function v(){var e=(0,i.default)(['\n        <paper-progress class="blue" indeterminate></paper-progress>\n      ']);return v=function(){return e},e}function y(e){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var t,o=(0,d.default)(e);if(n){var r=(0,d.default)(this).constructor;t=Reflect.construct(o,arguments,r)}else t=o.apply(this,arguments);return(0,c.default)(this,t)}}var E=function(e){(0,l.default)(o,e);var n,t=y(o);function o(){var e;return(0,s.default)(this,o),(e=t.call(this)).telegramChatId=p.store.currentUser.telegramChatId,e}return(0,u.default)(o,[{key:"render",value:function(){return this.isLoading?(0,f.html)(v()):(0,f.html)(g(),this.telegramChatId,this.handleInput,this.handleCancelationClick,this.hasOngoingRequest,this.handleConfirmationClick,this.hasOngoingRequest)}}],[{key:"styles",get:function(){return(0,f.css)(m())}},{key:"properties",get:function(){return{chatId:{type:String},hasOngoingRequest:{type:Boolean},isLoading:{type:Boolean}}}}]),(0,u.default)(o,[{key:"handleInput",value:function(e){this.telegramChatId=e.target.value}},{key:"handleCancelationClick",value:function(){this.ownerDocument.defaultView.history.replaceState(null,"","menu")}},{key:"handleConfirmationClick",value:(n=(0,a.default)(r.default.mark((function e(){return r.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.hasOngoingRequest=!0,e.prev=1,e.next=4,p.store.setTelegramChatId(this.telegramChatId);case 4:this.safeOpenAlertModal(this.alertCodes.SAVE_BOT_SETTINGS_SUCCESS),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),this.safeOpenAlertModal(this.alertCodes.SAVE_BOT_SETTINGS_ERROR);case 10:this.hasOngoingRequest=!1;case 11:case"end":return e.stop()}}),e,this,[[1,7]])}))),function(){return n.apply(this,arguments)})}]),o}((0,h.default)(f.LitElement));n.default=E,window.customElements.define("bot-settings-page",E)},70:function(e,n,t){"use strict";var o=t(5);Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e){return function(e){(0,i.default)(l,e);var n,t,o=(n=l,t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,o=(0,u.default)(n);if(t){var r=(0,u.default)(this).constructor;e=Reflect.construct(o,arguments,r)}else e=o.apply(this,arguments);return(0,s.default)(this,e)});function l(){return(0,r.default)(this,l),o.apply(this,arguments)}return(0,a.default)(l,[{key:"generateAlerts",value:function(){return new Map([[this.alertCodes.HAS_NOT_VOTED,{needsErrorMessage:!1,messageGenerator:function(){return"Você só poderá ver os resultados desta rodada após votar."},onButtonClicked:this.closeModal}],[this.alertCodes.FIRST_ROUND_REACHED,{needsErrorMessage:!1,messageGenerator:function(){return"Você já viu todos os resultados disponíveis."},onButtonClicked:this.closeModal}],[this.alertCodes.EVALUATION_PERIOD_OVER,{needsErrorMessage:!1,messageGenerator:function(){return"O período para votar acabou ".concat(this.endWeekday," às ").concat(this.endTime,".")},onButtonClicked:this.goToMenu}],[this.alertCodes.EVALUATION_PERIOD_NOT_STARTED,{needsErrorMessage:!1,messageGenerator:function(){return"O período para votar começa ".concat(this.startWeekday," às ").concat(this.startTime,".")},onButtonClicked:this.goToMenu}],[this.alertCodes.ALREADY_EVALUATED,{needsErrorMessage:!1,messageGenerator:function(){return"Você já votou esta semana."},onButtonClicked:this.goToMenu}],[this.alertCodes.NO_SONGS,{needsErrorMessage:!1,messageGenerator:function(){return"Não há músicas para votar."},onButtonClicked:this.goToMenu}],[this.alertCodes.EVALUATION_FAILED,{needsErrorMessage:!1,messageGenerator:function(){return"Houve um problema ao tentar enviar seu voto. Tente novamente mais tarde."},onButtonClicked:this.closeModal}],[this.alertCodes.INVALID_SCORE,{needsErrorMessage:!1,messageGenerator:function(){return"Você não pontuou todas as músicas com um valor válido."},onButtonClicked:this.closeModal}],[this.alertCodes.VOTE_SUCCESS,{needsErrorMessage:!1,messageGenerator:function(){return"Voto enviado com sucesso!"},onButtonClicked:this.goToMenu}],[this.alertCodes.SUBMISSION_PERIOD_OVER,{needsErrorMessage:!1,messageGenerator:function(){return"O período para enviar músicas acabou ".concat(this.endWeekdayString," ").concat(this.endTimeString,".")},onButtonClicked:this.goToMenu}],[this.alertCodes.MAX_NUMBER_OF_SONGS,{needsErrorMessage:!1,messageGenerator:function(){return"Você já enviou o número máximo de músicas para esta rodada"},onButtonClicked:this.goToMenu}],[this.alertCodes.INVALID_URL,{needsErrorMessage:!1,messageGenerator:function(){return"O URL que você inseriu não é valido."},onButtonClicked:this.closeModal}],[this.alertCodes.SUBMISSION_SUCCESS,{needsErrorMessage:!1,messageGenerator:function(){return"Música enviada com sucesso! ".concat(this.userSubmissionsSent<this.userSubmissionsLimit?"Você ainda pode enviar mais uma música!":"")},onButtonClicked:this.goToMenu}],[this.alertCodes.SAVE_BOT_SETTINGS_SUCCESS,{needsErrorMessage:!1,messageGenerator:function(){return"Suas configurações do Bot foram salvas com sucesso!"},onButtonClicked:this.goToMenu}],[this.alertCodes.SAVE_BOT_SETTINGS_ERROR,{needsErrorMessage:!1,messageGenerator:function(){return"Houve um problema ao salvar as suas configurações do Bot."},onButtonClicked:this.closeModal}],[this.alertCodes.DUPLICATED_SONG,{needsErrorMessage:!1,messageGenerator:function(){return"A música que você enviou já foi enviada antes. Tente outra música."},onButtonClicked:this.closeModal}],[this.alertCodes.UNEXPECTED_ERROR_GO_MENU,{needsErrorMessage:!0,messageGenerator:function(e){return e},onButtonClicked:this.goToMenu}],[this.alertCodes.UNEXPECTED_ERROR_CLOSE_MODAL,{needsErrorMessage:!0,messageGenerator:function(e){return e},onButtonClicked:this.closeModal}]])}},{key:"openAlertModal",value:function(e,n){var t=this.generateAlerts();if(!t.has(e))throw new Error("openAlertModal: Invalid alertCode. '".concat(e,"' is not valid."));var o=t.get(e),r=o.needsErrorMessage,a=o.messageGenerator,i=o.onButtonClicked;if(r&&!n)throw new Error("openAlertModal: Can't use '".concat(e,"' alert without 'errorMessage' parameter. ")+"Please pass an errorMessage parameter.");var s=a.bind(this)(n);this.insertModalIntoShadowRoot({type:"alert",text:s,onButtonClicked:i.bind(this)})}},{key:"safeOpenAlertModal",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";try{this.openAlertModal(e,n)}catch(e){this.openAlertModal(this.alertCodes.UNEXPECTED_ERROR_GO_MENU,e.message)}}},{key:"insertModalIntoShadowRoot",value:function(e){var n=e.type,t=e.text,o=e.onButtonClicked,r=new Map([["input","input-modal"],["alert","alert-modal"]]);if(r.has(n)){var a=document.createElement(r.get(n)),i=document.createTextNode(t);return a.appendChild(i),a.addEventListener("button-clicked",(function(e){o(e)&&a.remove()})),this.shadowRoot.insertBefore(a,this.shadowRoot.firstChild),a}throw new Error("insertModalIntoShadowRoot: Invalid modal type ".concat(n,".")+"Please insert a valid modal type.")}},{key:"goToMenu",value:function(){return this.ownerDocument.defaultView.history.replaceState(null,"","menu"),!0}},{key:"closeModal",value:function(){return!0}},{key:"alertCodes",get:function(){return{HAS_NOT_VOTED:"has-not-voted",FIRST_ROUND_REACHED:"first-round-reached",EVALUATION_PERIOD_OVER:"evaluation-period-over",EVALUATION_PERIOD_NOT_STARTED:"evaluation-period-not-started",ALREADY_EVALUATED:"already-evaluated",NO_SONGS:"no-songs",EVALUATION_FAILED:"evaluation-failed",INVALID_SCORE:"invalid-score",VOTE_SUCCESS:"evaluation-success",SUBMISSION_PERIOD_OVER:"submission-period-over",MAX_NUMBER_OF_SONGS:"max-number-of-songs",INVALID_URL:"invalid-url",SUBMISSION_SUCCESS:"submission-success",DUPLICATED_SONG:"duplicated-song",UNEXPECTED_ERROR_GO_MENU:"unexpected-error-go-menu",UNEXPECTED_ERROR_CLOSE_MODAL:"unexpected-error-close-modal",SAVE_BOT_SETTINGS_ERROR:"save-bot-settings-error",SAVE_BOT_SETTINGS_SUCCESS:"save-bot-settings-success"}}}],[{key:"isPrototypeOfModalDisplayableMixin",get:function(){return!0}}]),l}(e)};var r=o(t(64)),a=o(t(65)),i=o(t(66)),s=o(t(67)),u=o(t(63))},71:function(e,n,t){"use strict";var o=t(5);Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=o(t(68)),a=o(t(64)),i=o(t(65)),s=o(t(66)),u=o(t(67)),l=o(t(63)),c=t(69);function d(){var e=(0,r.default)(["\n            .shell {\n                display: flex;\n                flex-direction: column;\n                align-items: center;\n                justify-content: space-between;\n                box-sizing: border-box;\n            }\n            @-webkit-keyframes slide-down {\n                  0% { opacity: 0; -webkit-transform: translate(-50%, -100%); }\n                100% { opacity: 1; -webkit-transform: translate(-50%, -50%); }\n            }\n            @-moz-keyframes slide-down {\n                  0% { opacity: 0; -moz-transform: translate(-50%, -100%); }\n                100% { opacity: 1; -moz-transform: translate(-50%, -50%); }\n            }\n            .backdrop {\n                position: fixed;\n                width: 100vw;\n                height: 100vh;\n                background-color: rgba(26, 26, 26, 0.7);\n                z-index: 1000;\n            }\n\n            .modal {\n                position: fixed;\n                left: 50%;\n                top: 50%;\n                transform: translate(-50%, -50%);\n                max-width: 300px;\n                width: 70%;\n                min-height: 150px;\n                max-height: 80vh;\n                overflow-y: auto;\n                background-color: #FBFBD3;\n                z-index: 1001;\n                display: flex;\n                flex-direction: column;\n                align-items: center;\n                justify-content: space-between;\n                border-radius: 3px;\n                padding: 25px;\n                text-align: center;\n                -webkit-animation: slide-down .3s ease-out;\n                -moz-animation: slide-down .3s ease-out;\n            }\n\n            .modal button {\n                width: 100px;\n                height: 35px;\n                text-transform: uppercase;\n                background-color: #FBC303;\n                font-weight: 900;\n                font-family: inherit;\n                border: none;\n                border-radius: 3px;\n                vertical-align: baseline;\n                cursor: pointer;\n            }\n        "]);return d=function(){return e},e}function f(){var e=(0,r.default)(['\n            <div class="shell">\n                <div class="backdrop"></div>\n                <div class="modal">\n                    <p><slot></slot></p>\n                    <button @click="','">ok</button>\n                </div>\n            </div>\n        ']);return f=function(){return e},e}function h(e){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var t,o=(0,l.default)(e);if(n){var r=(0,l.default)(this).constructor;t=Reflect.construct(o,arguments,r)}else t=o.apply(this,arguments);return(0,u.default)(this,t)}}var p=function(e){(0,s.default)(t,e);var n=h(t);function t(){return(0,a.default)(this,t),n.apply(this,arguments)}return(0,i.default)(t,[{key:"handleButtonClick",value:function(){var e=new CustomEvent("button-clicked",{bubbles:!0,composed:!0});this.dispatchEvent(e)}},{key:"render",value:function(){return(0,c.html)(f(),this.handleButtonClick)}}],[{key:"styles",get:function(){return(0,c.css)(d())}}]),t}(c.LitElement);n.default=p,customElements.define("alert-modal",p)},73:function(e,n,t){"use strict";var o=t(5);Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=o(t(68)),a=o(t(64)),i=o(t(65)),s=o(t(66)),u=o(t(67)),l=o(t(63)),c=t(69),d=o(t(74));function f(){var e=(0,r.default)(["\n        .shell {\n            position: relative;\n            box-sizing: border-box;\n            width: 100vw;\n            min-height: 100%;\n            min-width: 320px;\n            margin: 0;\n        }\n\n        .logo {\n            width: 160px;\n            height: 72px;\n            cursor: pointer;\n        }\n\n        router-link:active, router-link:focus {\n            border: none;\n            outline: none;\n        }\n\n        header {\n            z-index: 20;\n            position: fixed;\n            width: 100%;\n            height: 72px;\n            background-color: #FBC303;\n        }\n\n        header, section {\n            display: flex;\n            flex-direction: column;\n            align-items: center;\n            justify-content: space-between;\n        }\n\n        .yellow {\n            position: absolute;\n            z-index: -1;\n            top: 0;\n            left: 0;\n            right: 0;\n            margin: 0 auto;\n            width: 100%;\n            /* max-width: 600px; */\n            height: 30%;\n            max-height: 200px;\n            background-color: #FBC303;\n        }\n        .grey {\n            position: fixed;\n            z-index: -2;\n            top: 0;\n            left: 0;\n            right: 0;\n            margin: 0 auto;\n            width: 100%;\n            /* max-width: 600px; */\n            height: 100%;\n            background-color: #CCCCCC;\n        }\n\n        ::slotted(*:nth-of-type(1)){\n            margin-top: 100px;\n        }\n\n        ::slotted(*) {\n            position: relative;\n            z-index: 19;\n        }\n\n    "]);return f=function(){return e},e}function h(){var e=(0,r.default)(['\n        <section class="shell">\n            <header>\n                <router-link path="menu">\n                    <img class="logo" src=',' alt="song ballot"/>\n                </router-link>\n            </header>\n            <section class="yellow"></section>\n            <section class="grey"></section>\n            <slot></slot>\n        </section>\n    ']);return h=function(){return e},e}function p(e){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var t,o=(0,l.default)(e);if(n){var r=(0,l.default)(this).constructor;t=Reflect.construct(o,arguments,r)}else t=o.apply(this,arguments);return(0,u.default)(this,t)}}var m=function(e){(0,s.default)(t,e);var n=p(t);function t(){return(0,a.default)(this,t),n.apply(this,arguments)}return(0,i.default)(t,[{key:"render",value:function(){return(0,c.html)(h(),d.default)}}],[{key:"styles",get:function(){return(0,c.css)(f())}}]),t}(c.LitElement);n.default=m,window.customElements.define("default-background",m)},74:function(e,n,t){"use strict";t.r(n),n.default=t.p+"images/horizontal-logo.png"},78:function(e,n,t){"use strict";var o=t(5);Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=o(t(68)),a=o(t(64)),i=o(t(65)),s=o(t(66)),u=o(t(67)),l=o(t(63)),c=t(69);function d(){var e=(0,r.default)(["\n        .shell {\n          display: flex;\n          flex-direction: column;\n          align-items: center;\n          justify-content: space-between;\n          box-sizing: border-box;\n        }\n        @-webkit-keyframes slide-down {\n            0% { opacity: 0; -webkit-transform: translate(-50%, -100%); }\n          100% { opacity: 1; -webkit-transform: translate(-50%, -50%); }\n        }\n        @-moz-keyframes slide-down {\n            0% { opacity: 0; -moz-transform: translate(-50%, -100%); }\n          100% { opacity: 1; -moz-transform: translate(-50%, -50%); }\n        }\n        .backdrop {\n          position: fixed;\n          width: 100vw;\n          height: 100vh;\n          background-color: rgba(26, 26, 26, 0.7);\n          z-index: 1000;\n        }\n\n        .modal {\n          position: fixed;\n          left: 50%;\n          top: 50%;\n          transform: translate(-50%, -50%);\n          max-width: 300px;\n          width: 70%;\n          min-height: 200px;\n          max-height: 80vh;\n          overflow-y: auto;\n          background-color: #FBFBD3;\n          z-index: 1001;\n          display: flex;\n          flex-direction: column;\n          align-items: center;\n          justify-content: space-between;\n          border-radius: 3px;\n          padding: 25px;\n          text-align: center;\n          -webkit-animation: slide-down .3s ease-out;\n          -moz-animation: slide-down .3s ease-out;\n        }\n\n        .modal button {\n          width: 100px;\n          height: 35px;\n          text-transform: uppercase;\n          background-color: #FBC303;\n          font-weight: 900;\n          font-family: inherit;\n          border: none;\n          border-radius: 3px;\n          vertical-align: baseline;\n          cursor: pointer;\n        }\n\n        input {\n          height: 1.5em;\n          width: calc(100% - 4px);\n          border-radius: 3px;\n          margin-bottom: 1em;\n          font-family: inherit;\n          border-style: solid;\n          border-width: 1px;\n          font-size: 1em;\n          background-color: #F2F2F2;\n        }\n    "]);return d=function(){return e},e}function f(){var e=(0,r.default)(['\n            <div class="shell" >\n                <div class="backdrop"></div>\n                <div class="modal">\n                    <p><slot></slot></p>\n                    <input type="text" @input="','"/>\n                    <button @click="','">ok</button>\n                </div>\n            </div>\n        ']);return f=function(){return e},e}function h(e){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var t,o=(0,l.default)(e);if(n){var r=(0,l.default)(this).constructor;t=Reflect.construct(o,arguments,r)}else t=o.apply(this,arguments);return(0,u.default)(this,t)}}var p=function(e){(0,s.default)(t,e);var n=h(t);function t(){return(0,a.default)(this,t),n.apply(this,arguments)}return(0,i.default)(t,[{key:"handleClick",value:function(){var e=new CustomEvent("button-clicked",{detail:{inputText:this.inputText},bubbles:!0,composed:!0});this.dispatchEvent(e)}},{key:"handleTextInput",value:function(e){this.inputText=e.target.value}},{key:"render",value:function(){return(0,c.html)(f(),this.handleTextInput,this.handleClick)}}],[{key:"styles",get:function(){return(0,c.css)(d())}}]),t}(c.LitElement);n.default=p,customElements.define("input-modal",p)}}]);